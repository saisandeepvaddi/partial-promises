"use strict";function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}}require("./babel-polyfill");var partialPromises=function(a,b,c){return a.map(function(a){return Promise.race([a,new Promise(function(a){var d=setTimeout(function(){clearTimeout(d),a(c)},b);return d})]).catch(function(){return new Promise(function(a){return a(c)})})})};exports.getPartialPromises=function(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{time:2e3,resolveWith:1};if(!Array.isArray(a))throw new Error("getPartialPromises: promises must be array of promises");var c=b.time||2e3,d=b.resolveWith||1;return partialPromises(a,c,d)},exports.getPartialResults=function(){var a=_asyncToGenerator(regeneratorRuntime.mark(function a(b){var c,d,e,f,g,h,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{time:2e3,resolveWith:1,filter:!0};return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Array.isArray(b)){a.next=2;break}throw new Error("getPartialResults: promises must be array of promises");case 2:return c=i.time||2e3,d=i.resolveWith||1,e=!!i.filter,f=partialPromises(b,c,d),a.next=8,Promise.all(f);case 8:return g=a.sent,h=g,e&&(h=h.filter(function(a){return a!==d})),a.abrupt("return",h);case 12:case"end":return a.stop();}},a,void 0)}));return function(){return a.apply(this,arguments)}}();